<a id="anchor-diabetes" name="anchor.diabetes" xmlns="http://www.w3.org/1999/html"></a>
<div wc-field
     field-dynamic-label="KAT_1.RBK"
     field-dynamic-help-text="KAT_1.HLP"
     field-has-errors="viewState.common.validation.messagesGrouped.diabetes"
     id="allmantForm">
  <div class="form-group" wc-validation-wrapper field-type="single-text" validations="viewState.getValidationErrors('observationsperiod')">
    <label for="diabetesyear"><span dynamic-label key="FRG_35.RBK"></span> *</label>
    <div class="controls">
      <input id="diabetesyear" class="form-control input-year" type="text" maxlength="4"
             ng-model="viewState.intygModel.diabetes.observationsperiod" ng-blur="validate()"/>
    </div>
  </div>
  <div class="form-group" wc-validation-wrapper field-type="radio-group" validations="viewState.getValidationErrors('diabetesTyp')">
    <span dynamic-label key="FRG_18.RBK"></span> *
    <label class="radio">
      <input name="diabetestyp" type="radio" value="DIABETES_TYP_1" ng-model="viewState.intygModel.diabetes.diabetestyp" ng-change="validate()">
      <span>Typ 1</span>
    </label>
    <label class="radio">
      <input name="diabetestyp" type="radio" value="DIABETES_TYP_2" ng-model="viewState.intygModel.diabetes.diabetestyp" ng-change="validate()">
      <span>Typ 2</span>
    </label>
  </div>

  <wc-validation-group field-type="check-group" validations="viewState.getValidationErrors('behandling')">

    <div class="form-group">
      <span dynamic-label key="FRG_19.RBK"></span> *
      <label class="checkbox">
        <input id="diabetestreat1" name="diabetestreat1" type="checkbox" ng-model="viewState.intygModel.diabetes.endastKost" ng-change="validate()">
        <span dynamic-label key="DFR_19.1.RBK"></span>
      </label>
      <label class="checkbox">
        <input id="diabetestreat2" name="diabetestreat2" type="checkbox" ng-model="viewState.intygModel.diabetes.tabletter" ng-change="validate()">
        <span dynamic-label key="DFR_19.2.RBK"></span>
      </label>
      <label class="checkbox">
        <input id="diabetestreat3" name="diabetestreat3" type="checkbox" ng-model="viewState.intygModel.diabetes.insulin" ng-change="validate()">
        <span dynamic-label key="DFR_19.3.RBK"></span>
      </label>
      <div class="form-group indent" ng-show="viewState.intygModel.diabetes.insulin"
           wc-validation-wrapper field-type="single-text" validations="viewState.getValidationErrors('insulin')">
        <label for="insulinBehandlingsperiod">
          <span dynamic-label key="DFR_19.4.RBK"></span> *</label>
        <div class="controls">
          <input id="insulinBehandlingsperiod" class="form-control input-year"
                 name="insulinBehandlingsperiod" type="text"
                 ng-model="viewState.intygModel.diabetes.insulinBehandlingsperiod" maxlength="4"
                 ng-blur="validate()"/>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="annanBehandlingBeskrivning">
        <span dynamic-label key="DFR_19.5.RBK"></span>
      </label>
      <div class="controls">
        <input id="annanBehandlingBeskrivning" class="form-control input-full"
               name="annanBehandlingBeskrivning" type="text"
               ng-model="viewState.intygModel.diabetes.annanBehandlingBeskrivning" wc-maxlength
               ng-trim="false" maxlength="53"
               ng-blur="validate()"/>
      </div>
    </div>
  </wc-validation-group>

</div>
