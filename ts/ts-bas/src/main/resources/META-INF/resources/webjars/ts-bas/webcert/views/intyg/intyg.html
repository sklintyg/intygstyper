<div class="ts-bas-ns weak-hidden" ng-class="{show: viewState.common.showTemplate}">
  <div wc-spinner label="common.load.certificate" show-spinner="!viewState.common.doneLoading"
       show-content="viewState.common.doneLoading">

    <div ui-view="header"></div>

    <div ng-show="!viewState.common.activeErrorMessageKey">
      <div id="certificate" ng-class="{'certificate': true, 'revoked-certificate' : viewState.common.intygProperties.isRevoked}">
        <div class="row">
          <div class="col-md-12">
            <div class="intyg-body">

              <!-- Patientens adressuppgifter -->
              <div wc-field field-label="ts-bas.label.patientadress" filled="true">
                <span class="intyg-answer"><span id="patientpostadress">{{viewState.intygModel.grundData.patient.postadress}}</span><br><span id="patientpostnummer">{{viewState.intygModel.grundData.patient.postnummer}}</span> <span id="patientpostort">{{viewState.intygModel.grundData.patient.postort}}</span></span>
              </div>

              <!-- Intyget avser -->
              <div wc-field field-dynamic-label="KAT_99.RBK" filled="true">
                <span class="intyg-answer" id="intygAvser">{{viewState.intygAvser}}</span>
              </div>

              <!-- Identitet -->
              <div wc-field field-dynamic-label="KAT_100.RBK" filled="true">
                <span id="identitet"><span class="intyg-answer" dynamic-label key="IDENTITET_{{viewState.intygModel.vardkontakt.idkontroll}}.RBK"></span></span>
              </div>

              <!-- 1 syn -->
              <div wc-field field-dynamic-label="KAT_1.RBK" filled="true">
                <!-- a -->
                <p>
                  <span dynamic-label key="FRG_3.RBK"></span>
                  <span id="synfaltsdefekter"><span class="intyg-answer" message key="{{viewState.intygModel.syn.synfaltsdefekter | BoolToTextFilter}}"></span></span>
                </p>

                <!-- b -->
                <p>
                  <span dynamic-label key="FRG_4.RBK"></span>
                  <span id="nattblindhet"><span class="intyg-answer" message key="{{viewState.intygModel.syn.nattblindhet | BoolToTextFilter}}"></span></span>
                </p>

                <!-- c -->
                <p>
                  <span dynamic-label key="FRG_5.RBK"></span>
                  <span id="progressivOgonsjukdom"><span class="intyg-answer" message key="{{viewState.intygModel.syn.progressivOgonsjukdom | BoolToTextFilter}}"></span></span>
                </p>

                <!-- a-c message -->
                <div ng-show="achelptext === true" class="alert alert-info">
                  <span dynamic-label key="FRG_3-5.INF"></span>
                </div>

                <!-- d -->
                <p>
                  <span dynamic-label key="FRG_6.RBK"></span>
                  <span id="diplopi"><span class="intyg-answer" message key="{{viewState.intygModel.syn.diplopi | BoolToTextFilter}}"></span></span>
                </p>

                <!-- e -->
                <p>
                  <span dynamic-label key="FRG_7.RBK"></span>
                  <span id="nystagmus"><span class="intyg-answer" message key="{{viewState.intygModel.syn.nystagmus | BoolToTextFilter}}"></span></span>
                </p>

                <!-- f -->
                <p>
                  <span dynamic-label key="FRG_8.RBK"></span>
                </p>

                <table class="table table-condensed ts-table">
                  <tr>
                    <th></th>
                    <th>Utan korrektion</th>
                    <th>Med korrektion</th>
                    <th>Kontaktlinser</th>
                  </tr>
                  <tr>
                    <td>Höger öga</td>
                    <td id="hogerOgautanKorrektion">{{viewState.intygModel.syn.hogerOga.utanKorrektion | number : 1}}</td>
                    <td id="hogerOgamedKorrektion">{{viewState.intygModel.syn.hogerOga.medKorrektion | number : 1}}</td>
                    <td id="hogerOgakontaktlins"><span message key="{{viewState.intygModel.syn.hogerOga.kontaktlins | BoolToTextFilter}}"></span>
                    </td>
                  </tr>
                  <tr>
                    <td>Vänster öga</td>
                    <td id="vansterOgautanKorrektion">{{viewState.intygModel.syn.vansterOga.utanKorrektion | number : 1}}</td>
                    <td id="vansterOgamedKorrektion">{{viewState.intygModel.syn.vansterOga.medKorrektion | number : 1}}</td>
                    <td id="vansterOgakontaktlins"><span message key="{{viewState.intygModel.syn.vansterOga.kontaktlins | BoolToTextFilter}}"></span>
                    </td>
                  </tr>
                  <tr>
                    <td>Binokulärt</td>
                    <td id="binokulartutanKorrektion">{{viewState.intygModel.syn.binokulart.utanKorrektion | number : 1}}</td>
                    <td id="binokulartmedKorrektion">{{viewState.intygModel.syn.binokulart.medKorrektion | number : 1}}</td>
                    <td></td>
                  </tr>
                </table>

                <h3>Korrektionsglasens styrka</h3>
                <span dynamic-label key="FRG_9.RBK"></span>
                <span id="korrektionsglasensStyrka"><span class="intyg-answer" message
                      key="{{viewState.intygModel.syn.korrektionsglasensStyrka | BoolToTextFilter}}"></span></span>
                <div class="alert alert-info" ng-show="viewState.intygModel.syn.korrektionsglasensStyrka == true">
                  <span dynamic-label key="FRG_9.INF"></span>
                </div>
              </div>

              <!-- 2 -->
              <div wc-field field-dynamic-label="KAT_2.RBK" filled="true">
                <p>
                  <span dynamic-label key="FRG_10.RBK"></span>
                  <span id="horselBalansbalansrubbningar"><span class="intyg-answer" message
                        key="{{viewState.intygModel.horselBalans.balansrubbningar | BoolToTextFilter}}"></span></span>
                </p>
                <p ng-show="viewState.intygModel.horselBalans.svartUppfattaSamtal4Meter != null">
                  <span dynamic-label key="FRG_11.RBK"></span>
                  <span id="horselBalanssvartUppfattaSamtal4Meter"><span class="intyg-answer" message
                        key="{{viewState.intygModel.horselBalans.svartUppfattaSamtal4Meter | BoolToTextFilter}}"></span></span>
                </p>
              </div>

              <!-- 3 -->
              <div wc-field field-dynamic-label="KAT_3.RBK" filled="true">

                <!-- a -->
                <p>
                  <span dynamic-label key="FRG_12.RBK"></span>
            			<span id="funktionsnedsattning"><span class="intyg-answer" message
                        key="{{viewState.intygModel.funktionsnedsattning.funktionsnedsattning | BoolToTextFilter}}"></span></span>
                </p>
                <p class="indent" ng-show="viewState.intygModel.funktionsnedsattning.funktionsnedsattning">
                  <span dynamic-label key="DFR_12.2.RBK"></span><br />
                  <span id="funktionsnedsattningbeskrivning"><span class="intyg-answer">{{viewState.intygModel.funktionsnedsattning.beskrivning}}</span></span>
                </p>

                <!-- b -->
                <p ng-show="viewState.intygModel.funktionsnedsattning.otillrackligRorelseformaga != null">
                  <span dynamic-label key="FRG_13.RBK"></span>
            			<span id="funktionsnedsattningotillrackligRorelseformaga"><span class="intyg-answer" message
                        key="{{viewState.intygModel.funktionsnedsattning.otillrackligRorelseformaga | BoolToTextFilter}}"></span></span>
                </p>

              </div>

              <!-- 4 -->
              <div wc-field field-dynamic-label="KAT_4.RBK" filled="true">
                <p>
                  <span dynamic-label key="FRG_14.RBK"></span><br>
            			<span id="hjartKarlSjukdom"><span class="intyg-answer" message
                        key="{{viewState.intygModel.hjartKarl.hjartKarlSjukdom | BoolToTextFilter}}"></span></span>
                </p>
                <p>
                  <span dynamic-label key="FRG_15.RBK"></span><br>
            			<span id="hjarnskadaEfterTrauma"><span class="intyg-answer" message
                        key="{{viewState.intygModel.hjartKarl.hjarnskadaEfterTrauma | BoolToTextFilter}}"></span></span>
                </p>
                <p>
                  <span dynamic-label key="FRG_16.RBK"></span><br>
            			<span id="riskfaktorerStroke"><span class="intyg-answer" message
                        key="{{viewState.intygModel.hjartKarl.riskfaktorerStroke | BoolToTextFilter}}"></span></span>
                </p>
                <p class="indent" ng-show="viewState.intygModel.hjartKarl.riskfaktorerStroke">
                  <span dynamic-label key="DFR_16.2.RBK"></span><br />
                  <span id="beskrivningRiskfaktorer"><span class="intyg-answer">{{viewState.intygModel.hjartKarl.beskrivningRiskfaktorer}}</span></span>
                </p>

              </div>

              <!-- 5 -->
              <div wc-field field-dynamic-label="KAT_5.RBK" filled="true">
                <p>
                  <span dynamic-label key="FRG_17.RBK"></span>
                  <span id="harDiabetes"><span class="intyg-answer" message key="{{viewState.intygModel.diabetes.harDiabetes | BoolToTextFilter}}"></span></span>
                </p>
                <div ng-show="viewState.intygModel.diabetes.harDiabetes">
                  <p>
                    <span dynamic-label key="FRG_18.RBK"></span>
            			  <span id="diabetesTyp"><span class="intyg-answer" message
                            key="ts-bas.label.diabetes.diabetestyp.{{viewState.intygModel.diabetes.diabetesTyp}}"></span></span>
                  </p>
                  <p ng-show="viewState.intygModel.diabetes.kost || viewState.intygModel.diabetes.tabletter || viewState.intygModel.diabetes.insulin">
                    <span dynamic-label key="FRG_19.RBK"></span><br>
                    <span id="kost"><span class="intyg-answer" ng-show="viewState.intygModel.diabetes.kost" dynamic-label
                          key="DFR_19.1.RBK"></span></span>
                    <span id="tabletter"><span class="intyg-answer" ng-show="viewState.intygModel.diabetes.tabletter" dynamic-label
                          key="DFR_19.2.RBK"></span></span>
                    <span id="insulin"><span class="intyg-answer" ng-show="viewState.intygModel.diabetes.insulin" dynamic-label
                          key="DFR_19.3.RBK"></span></span>
                  </p>
                  <div class="alert alert-info" ng-show="viewState.intygModel.diabetes.insulin || viewState.intygModel.diabetes.tabletter">
                    <span dynamic-label key="DFR_19.3.INF"></span>
                  </div>
                </div>

              </div>

              <!-- 6 -->
              <div wc-field field-dynamic-label="KAT_6.RBK" filled="true">
                <p>
                  <span dynamic-label key="FRG_20.RBK"></span>
            			<span id="neurologiskSjukdom"><span class="intyg-answer" message
                        key="{{viewState.intygModel.neurologi.neurologiskSjukdom | BoolToTextFilter}}"></span></span>
                </p>

              </div>

              <!-- 7 -->
              <div wc-field field-dynamic-label="KAT_7.RBK" filled="true">
                <p>
                  <span dynamic-label key="FRG_21.RBK"></span>
            			<span id="medvetandestorning"><span class="intyg-answer" message
                        key="{{viewState.intygModel.medvetandestorning.medvetandestorning | BoolToTextFilter}}"></span></span>
                </p>

                <p class="indent" ng-show="viewState.intygModel.medvetandestorning.medvetandestorning">
                  <span dynamic-label key="DFR_21.2.RBK"></span><br />
                  <span id="medvetandestorningbeskrivning"><span class="intyg-answer">{{viewState.intygModel.medvetandestorning.beskrivning}}</span></span>
                </p>
              </div>

              <!-- 8 -->
              <div wc-field field-dynamic-label="KAT_8.RBK" filled="true">
                <span dynamic-label key="FRG_22.RBK"></span>
                <span id="nedsattNjurfunktion"><span class="intyg-answer" message
                      key="{{viewState.intygModel.njurar.nedsattNjurfunktion | BoolToTextFilter}}"></span></span>

              </div>

              <!-- 9 -->
              <div wc-field field-dynamic-label="KAT_9.RBK" filled="true">
                <span dynamic-label key="FRG_23.RBK"></span>
                <span id="sviktandeKognitivFunktion"><span class="intyg-answer" message
                      key="{{viewState.intygModel.kognitivt.sviktandeKognitivFunktion | BoolToTextFilter}}"></span></span>

              </div>

              <!-- 10 -->
              <div wc-field field-dynamic-label="KAT_10.RBK" filled="true">
                <span dynamic-label key="FRG_24.RBK"></span>
                <span id="teckenSomnstorningar"><span class="intyg-answer" message
                      key="{{viewState.intygModel.somnVakenhet.teckenSomnstorningar | BoolToTextFilter}}"></span></span>

              </div>

              <!-- 11 -->
              <div wc-field field-dynamic-label="KAT_11.RBK" filled="true">
                <p>
                  <span dynamic-label key="DFR_25.1.RBK"></span>
            			<span id="teckenMissbruk"><span class="intyg-answer" message
                        key="{{viewState.intygModel.narkotikaLakemedel.teckenMissbruk | BoolToTextFilter}}"></span></span>
                </p>

                <p>
                  <span dynamic-label key="DFR_25.2.RBK"></span>
            			<span id="foremalForVardinsats"><span class="intyg-answer" message
                        key="{{viewState.intygModel.narkotikaLakemedel.foremalForVardinsats | BoolToTextFilter}}"></span></span>
                </p>

                <div ng-show="viewState.intygModel.narkotikaLakemedel.foremalForVardinsats || viewState.intygModel.narkotikaLakemedel.teckenMissbruk">
                  <p>
                    <span dynamic-label key="DFR_25.3.RBK"></span>
	            			<span id="provtagningBehovs"><span class="intyg-answer" message
                          key="{{viewState.intygModel.narkotikaLakemedel.provtagningBehovs | BoolToTextFilter}}"></span></span>
                  </p>
                  <p>
                  <div class="alert alert-info">
                    <span message key="ts-bas.helptext.narkotika-lakemedel.provtagning"></span>
                  </div>
                  </p>
                </div>

                <p>
                  <span dynamic-label key="FRG_26.RBK"></span>
            			<span id="lakarordineratLakemedelsbruk"><span class="intyg-answer" message
                        key="{{viewState.intygModel.narkotikaLakemedel.lakarordineratLakemedelsbruk | BoolToTextFilter}}"></span></span>
                </p>

                <p class="indent" ng-show="viewState.intygModel.narkotikaLakemedel.lakarordineratLakemedelsbruk">
                  <span dynamic-label key="DFR_26.1.RBK"></span><br />
                  <span id="lakemedelOchDos"><span class="intyg-answer">{{viewState.intygModel.narkotikaLakemedel.lakemedelOchDos}}</span></span>
                </p>

              </div>

              <!-- 12 -->
              <div wc-field field-dynamic-label="KAT_12.RBK" filled="true">
                <span dynamic-label key="FRG_27.RBK"></span>
                <span id="psykiskSjukdom"><span class="intyg-answer" message key="{{viewState.intygModel.psykiskt.psykiskSjukdom | BoolToTextFilter}}"></span></span>
              </div>

              <!-- 13 -->
              <div wc-field field-dynamic-label="KAT_13.RBK" filled="true">
                <p>
                  <span dynamic-label key="FRG_28.RBK"></span>
            			<span id="psykiskUtvecklingsstorning"><span class="intyg-answer" message
                        key="{{viewState.intygModel.utvecklingsstorning.psykiskUtvecklingsstorning | BoolToTextFilter}}"></span></span>
                </p>
                <p>
                  <span dynamic-label key="FRG_29.RBK"></span>
            			<span id="harSyndrom"><span class="intyg-answer" message
                        key="{{viewState.intygModel.utvecklingsstorning.harSyndrom | BoolToTextFilter}}"></span></span>
                </p>
              </div>

              <!-- 14 -->
              <div wc-field field-dynamic-label="KAT_14.RBK" filled="true">
                <p>
                  <span dynamic-label key="FRG_30.RBK"></span>
            		  <span id="sjukhusEllerLakarkontakt"><span class="intyg-answer" message
                          key="{{viewState.intygModel.sjukhusvard.sjukhusEllerLakarkontakt | BoolToTextFilter}}"></span></span>
                </p>
                <p class="indent" ng-show="viewState.intygModel.sjukhusvard.sjukhusEllerLakarkontakt">
                  <span dynamic-label key="DFR_30.2.RBK"></span>
                  <span class="intyg-answer" id="tidpunkt">{{viewState.intygModel.sjukhusvard.tidpunkt}}</span><br />

                  <span dynamic-label key="DFR_30.3.RBK"></span>
                  <span class="intyg-answer" id="vardinrattning">{{viewState.intygModel.sjukhusvard.vardinrattning}}</span><br />

                  <span dynamic-label key="DFR_30.4.RBK"></span>
                  <span class="intyg-answer" id="sjukhusvardanledning">{{viewState.intygModel.sjukhusvard.anledning}}</span><br />
                </p>
              </div>

              <!-- 15 -->
              <div wc-field field-dynamic-label="KAT_15.RBK" filled="true">
                <p>
                  <span dynamic-label key="FRG_31.RBK"></span>
            		  <span id="stadigvarandeMedicinering"><span class="intyg-answer" message
                          key="{{viewState.intygModel.medicinering.stadigvarandeMedicinering | BoolToTextFilter}}"></span></span>
                </p>
                <p class="indent" ng-show="viewState.intygModel.medicinering.stadigvarandeMedicinering">
                  <span dynamic-label key="DFR_31.2.RBK"></span><br />
                  <span id="medicineringbeskrivning"><span class="intyg-answer">{{viewState.intygModel.medicinering.beskrivning}}</span></span>
                </p>
              </div>

              <!-- 16 ovrigt -->
              <div wc-field field-dynamic-label="KAT_16.RBK" filled="true">
                <p ng-show="viewState.intygModel.kommentar.length > 0">
                  <span id="kommentar"><span class="intyg-answer">{{viewState.intygModel.kommentar}}</span></span>
                </p>

                <p class="intyg-answer" ng-show="!viewState.intygModel.kommentar" id="kommentarEjAngivet">
                  <span message key="ts-bas.label.bedomning-info-ej-angivet"></span>
                </p>
              </div>

              <!-- Bedomning -->
              <div wc-field field-dynamic-label="KAT_101.RBK" filled="true">
                <span dynamic-label key="FRG_33.RBK"></span>
                <div ng-show="!viewState.intygModel.bedomning.kanInteTaStallning">
                  <p>
                    <span class="intyg-answer" id="bedomning">{{viewState.bedomning}}</span>
                  </p>
                </div>

                <div ng-show="viewState.intygModel.bedomning.kanInteTaStallning">
                  <span id="bedomningKanInteTaStallning"><span class="intyg-answer" dynamic-label key="DFR_33.2.RBK"></span></span><br><br>
                </div>

                <div>
                  <span dynamic-label key="FRG_34.RBK"></span><br>
                  <span class="intyg-answer" ng-show="viewState.intygModel.bedomning.lakareSpecialKompetens.length > 0" id="lakareSpecialKompetens">{{viewState.intygModel.bedomning.lakareSpecialKompetens}}</span>
                  <span id="lakareSpecialKompetensEjAngivet"><span class="intyg-answer" ng-show="!viewState.intygModel.bedomning.lakareSpecialKompetens" message
                        key="ts-bas.label.bedomning-info-ej-angivet"></span></span>
                </div>
              </div>

              <!-- Vardenhet underskrift -->
              <div class="infobox">
                <h3>
                  <span message key="common.label.ovanstaende-har-bekraftats"></span>
                </h3>
                <h4>
                  <span message key="common.date"></span>
                </h4>
                <p id="signeringsdatum">{{viewState.intygModel.grundData.signeringsdatum | date:'longDate'}}</p>
                <h4>
                  <span message key="ts-bas.label.kontakt-info"></span>
                </h4>
                <span id="vardperson_namn">{{viewState.intygModel.grundData.skapadAv.fullstandigtNamn}}</span><br>
                <span id="vardperson_enhetsnamn">{{viewState.intygModel.grundData.skapadAv.vardenhet.enhetsnamn}}</span><br>
                <span id="vardenhet_postadress">{{viewState.intygModel.grundData.skapadAv.vardenhet.postadress}}</span><br>
                <span id="vardenhet_postnummer">{{viewState.intygModel.grundData.skapadAv.vardenhet.postnummer}}</span> <span id="vardenhet_postort">{{viewState.intygModel.grundData.skapadAv.vardenhet.postort}}</span><br>
                <span id="vardenhet_telefonnummer">{{viewState.intygModel.grundData.skapadAv.vardenhet.telefonnummer}}</span><br>
              </div>

            </div>
            <!-- intyg body -->
          </div>
        </div>
      </div>
    </div>
    <!-- entire intyg -->
  </div>
  <!--  spinner end -->
</div>
