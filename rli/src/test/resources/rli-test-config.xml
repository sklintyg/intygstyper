<!--

    Copyright (C) 2013 Inera AB (http://www.inera.se)

    This file is part of Inera Certificate Modules (http://code.google.com/p/inera-certificate-modules).

    Inera Certificate Modules is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    Inera Certificate Modules is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:jaxrs="http://cxf.apache.org/jaxrs"
	xmlns:cxf="http://cxf.apache.org/core" xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

	<import resource="rli-beans.xml" />
	<import resource="rli-model-config.xml" />

	<cxf:bus>
		<cxf:features>
			<cxf:logging />
		</cxf:features>
	</cxf:bus>

	<jaxrs:server address="http://localhost:8880/rli">
		<jaxrs:serviceBeans>
			<bean class="se.inera.certificate.modules.rli.rest.ModuleService" />
		</jaxrs:serviceBeans>
		<jaxrs:providers>
			<ref bean="jacksonJsonProvider" />
			<ref bean="jaxbProvider" />
		</jaxrs:providers>
	</jaxrs:server>

	<jaxrs:client id="rliModule" address="http://localhost:8880/rli"
		serviceClass="se.inera.certificate.modules.rli.rest.ModuleApi">
		<jaxrs:providers>
			<ref bean="jacksonJsonProvider" />
			<ref bean="jaxbProvider" />
		</jaxrs:providers>
	</jaxrs:client>

</beans>